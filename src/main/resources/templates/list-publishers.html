<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Tous les Éditeurs</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
</head>
<body>
<div th:insert="comman/header :: header"></div>
<div class="container my-2">

	<!-- Alert Section for Flash Messages -->
	<div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
		<span th:text="${successMessage}"></span>
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>

	<div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show" role="alert">
		<span th:text="${errorMessage}"></span>
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<!-- End of Alert Section -->

	<div class="container my-5">
		<p class="my-5">
			<a href="/addPublisher" class="btn btn-dark">
				<i class="fas fa-plus-circle ml-2"> Ajouter un Éditeur </i>
			</a>&nbsp;&nbsp;
		</p>
		<div class="col-md-12">
			<h2 th:if="${publishers == null || publishers.isEmpty()}">Aucun éditeur trouvé !</h2>
			<div th:if="${publishers != null && !publishers.isEmpty()}">
				<table class="table table-bordered table-hover">
					<thead class="thead-dark">
					<tr>
						<th>Nom de l'Éditeur</th>
						<th>Modifier</th>
						<th>Supprimer</th>
					</tr>
					</thead>
					<tbody>
					<tr th:each="publisher : ${publishers}">
						<td th:text="${publisher.name}"></td>
						<td>
							<a th:href="@{/updatePublisher/{id}(id=${publisher.id})}" class="btn btn-warning">
								<i class="fas fa-edit ml-2"></i>
							</a>
						</td>
						<td>
							<a th:href="@{/remove-publisher/{id}(id=${publisher.id})}"
							   class="btn btn-danger"
							   th:onclick="'return confirm(\'Voulez-vous vraiment supprimer cet éditeur ?\')'">
								<i class="fas fa-trash ml-2"></i>
							</a>
						</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<div th:insert="comman/footer :: footer"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</body>
</html>
